<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>Bill #<%= bill.id %></title>
	<style>
		body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 12px; color: #111827; }
		.card { max-width: 700px; margin: 0 auto; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 14px; }
		.header { display: flex; justify-content: space-between; align-items: center; }
		.logo { height: 48px; width: 48px; object-fit: contain; }
		table { width: 100%; border-collapse: collapse; margin-top: 12px; }
		th, td { text-align: left; padding: 8px; border-bottom: 1px solid #f1f5f9; }
		th.right, td.right { text-align: right; }
		.total { text-align: right; font-weight: 800; margin-top: 8px; }
	</style>
</head>
<body>
	<div class="card">
		<div class="header">
			<div>
				<h2 style="margin:0"><%= (settings && settings.shop_name) || 'JJ Traders and Spices' %></h2>
				<div style="color:#6b7280;font-size:12px"><%= (settings && settings.shop_contact) || '' %></div>
			</div>
			<% if (settings && settings.logo_url) { %>
				<img class="logo" src="<%= settings.logo_url %>"/>
			<% } %>
		</div>
		<hr/>
		<div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
			<div>
				<div><strong>Bill #</strong> <%= bill.id %></div>
				<div><strong>Date</strong> <%= bill.created_at %></div>
			</div>
			<div>
				<div><strong>Customer</strong> <%= bill.customer_name || '-' %></div>
				<div><strong>Contact</strong> <%= bill.customer_contact || '-' %></div>
				<div><strong>Address</strong> <%= bill.customer_address || '-' %></div>
			</div>
		</div>
		<table>
			<thead>
				<tr><th>Item</th><th class="right">Price</th><th class="right">Qty</th><th class="right">Total</th></tr>
			</thead>
			<tbody>
				<% items.forEach(function(i){ %>
					<tr>
						<td><%= i.name %></td>
						<td class="right">₹ <%= Number(i.price).toFixed(2) %></td>
						<td class="right"><%= i.qty %></td>
						<td class="right">₹ <%= (Number(i.price)*Number(i.qty)).toFixed(2) %></td>
					</tr>
				<% }) %>
			</tbody>
		</table>
		<div class="total">Grand Total: ₹ <%= Number(bill.total_amount).toFixed(2) %></div>
	</div>
</body>
</html>


